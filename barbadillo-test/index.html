<!DOCTYPE html>
<html lang="en">
<head>
     

	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbadillo: La cárcel de los expresidentes | El Comercio Perú</title>
    <meta name="description" content="Barbadillo, un penal que empezó como un centro de reclusión temporal para Alberto Fujimori pero que luego se convirtió en la prisión permanente de los expresidentes procesados como Pedro Castillo y Ollanta Humala y ahora sería de Alejandro Toledo. Conoce su historia, cómo es por dentro y más en nuestro especial de elcomercio.pe
    " />

    <!--favicon-->
    <link rel="shortcut icon" type="image/x-icon" href="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/alan-garcia-una-vida-de-portada-ecpm/favicon.ico" />
    <link rel="icon" type="image/x-icon" href="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/alan-garcia-una-vida-de-portada-ecpm/favicon.ico" />

    <!-- inject:css -->
    <link rel="stylesheet" href="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/css/style.css?v182">  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="/especiales-multimedia/barbadillo/css/examples.css?v3">  
    <!-- endinject -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Montserrat:wght@500;700;900&display=swap" rel="stylesheet">

    <!-- Open Graph -->
    <meta property="og:type" content='website' />
    <meta property="og:site_name" content='El Comercio.pe' />
    <meta property="og:title" content='Barbadillo: La cárcel de los expresidentes | El Comercio Perú' />
    <meta property="og:description" content='Barbadillo, un penal que empezó como un centro de reclusión temporal para Alberto Fujimori pero que luego se convirtió en la prisión permanente de los expresidentes procesados como Pedro Castillo y Ollanta Humala y ahora sería de Alejandro Toledo. Conoce su historia, cómo es por dentro y más en nuestro especial de elcomercio.pe
    ' />
    <meta property="og:url" content='https://especiales.elcomercio.pe/?q=especiales-multimedia/barbadillo/index.html' />
    <meta property="og:image" content='https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/port-op.jpg?v4' />
    <!-- fin Open Graph -->

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@elcomercio" />
    <meta name="twitter:title" content='Barbadillo: La cárcel de los expresidentes | El Comercio Perú' />
    <meta name="twitter:description" content="Barbadillo, un penal que empezó como un centro de reclusión temporal para Alberto Fujimori pero que luego se convirtió en la prisión permanente de los expresidentes procesados como Pedro Castillo y Ollanta Humala y ahora sería de Alejandro Toledo. Conoce su historia, cómo es por dentro y más en nuestro especial de elcomercio.pe
    " />
    <meta name="twitter:creator" content="@elcomercio_peru">
    <meta name="twitter:domain" content="elcomercio.pe">
    <!-- fin Twitter Card -->

    <meta name="keywords" content="barbadillo, penal, cárcel, expresidentes, Perú, Toledo, Fujimori, Castillo, Ollanta, historia, prisión" />

    <meta name="language" content="es" />
    <meta name="bi3dPubDate" content="2014-12-04T17:17:12-05:00" />
    <meta name="robots" content="index,follow" />
    <meta name='googlebot' content='index, follow' />
    <meta name="organization" content="Empresa Editora El Comercio S.A." />
    <link rel="publisher" href="https://plus.google.com/u/0/+elcomerciope/" />
    <meta property="article:modified_time" content="2014-12-04T17:17:12-05:00" />
    <meta property="article:section" content="Barbadillo: La cárcel de los expresidentes | El Comercio Perú" />
    <meta name="author" content="El Comercio" />
    <meta name='Origen' content='El Comercio' />
    <meta name="locality" content="Lima, Peru" />
    <meta name="revisit-after" content="1 day" />
    <meta property="og:site_name" content="EL COMERCIO" />
    <link rel="canonical" href="https://especiales.elcomercio.pe/?q=especiales-multimedia/barbadillo/index.html"/>

    <script src="/especiales-multimedia/barbadillo/js/libgif.js?v3"></script>
    <!--<script src="/especiales-multimedia/barbadillo/js/rubbable.js?v3"></script>-->

    <script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script>
    
    <style>
        #gif-container {
            height: 100vh;
            overflow: hidden;
            }

            #gif {
            display: block;
            margin: auto;
            max-height: 100%;
            }

    </style>


</head>
<body>
    

    <header>
        <div class="header-comercio header-3d">
            <div class="ctn-header-comercio">
                <a href="https://elcomercio.pe/" class="logo-comercio" target="blank">El comercio</a>
                
                <div id="social">
                    <button id="fb" class="sharer button" data-sharer="facebook" data-hashtag="" data-url="https://especiales.elcomercio.pe/?q=especiales-multimedia/barbadillo/index.html">Facebook</button>

                    <button id="wst" class="sharer button" data-sharer="whatsapp" data-title="Barbadillo: La cárcel de los expresidentes | El Comercio Perú" data-url="https://especiales.elcomercio.pe/?q=especiales-multimedia/barbadillo/index.html">Whatsapp</button>

                    <button id="tw" class="sharer button" data-sharer="twitter" data-title="Barbadillo: La cárcel de los expresidentes | El Comercio Perú" data-hashtags="" data-via='elcomercio_peru' data-url="https://especiales.elcomercio.pe/?q=especiales-multimedia/barbadillo/index.html">Twitter</button>
                </div>
            </div>
            <!--ctn-header-comercio-->
        </div>
        <!--header-comercio-->
    </header>

   <!-- <div class="spacer s2"></div>
    <div id="trigger"></div>
    <div id="imagesequence">
        <img id="myimg" class="lazy" data-src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-1-min.jpg"><br>
    </div>
    <div class="spacer s2"></div>-->
 

    <!--<div class="box-main-gif"> 
    <div class="bg translate scale">
        <img class="lazyload" id="example1" src="/especiales-multimedia/barbadillo/img/bg-barbadillo-dentro.jpg?v2" rel:animated_src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/SecuenciaFrames5.gif?v4" width="auto" height="100%" rel:auto_play="0" rel:rubbable="1"/> 
    </div>
   
    </div>-->

    <!--<div class="main-gif" id="main">
        <section>
            <div class="content">
                <h1>Nulla facilisi ed libero nulla consequat massa quis enim</h1>
            </div>
        </section>
        <section>
            <div class="content content--right">
                Donec vitae sapien ut libero venenatis faucibus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere
                cubilia Curae; In ac dui quis mi consectetuer lacinia. Praesent egestas tristique nibh. Sed libero.
            </div>
        </section>
        <section>
            <div class="content">
                Phasellus accumsan cursus velit. Pellentesque egestas, neque sit amet convallis pulvinar, justo nulla eleifend augue, ac
                auctor orci leo non est. Morbi ac felis. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu.
                Praesent vestibulum dapibus.
            </div>
        </section>
    </div>-->

    <!--<div class="box">
        <img class="gif lazy" src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/SecuenciaFrames5.gif?v4f" alt="Descripción del GIF" width="100%">
    </div>-->

    <div style="height: 600px;"></div>

    <!--<div id="gif-container">
        <img id="gif" class="gif lazy" src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/SecuenciaFrames5.gif?v4f" alt="Descripción del GIF" width="100%">
    </div>-->

    <div id="gif-container">
        <img id="gif" class="gif lazy" src="/especiales-multimedia/barbadillo/img/SecuenciaFrames5.gif" alt="Descripción del GIF" width="100%">
        <canvas id="gif">
            
        </canvas>
    </div>

    <img id="gif" class="lazy" src="/especiales-multimedia/barbadillo/img/SecuenciaFrames5.gif" alt="Descripción del GIF" width="100%">
    
    


    <div class="box-indicacion">
        <div class="ctn-box-indicacion">
            <a href="/especiales-multimedia/barbadillo/" class="btn-regresar">regresar</a>
            <span class="indicacion">Deslizar y detener para leer.</span>
        </div>        
    </div>    
	
    <script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/alan-garcia-una-vida-de-portada-ecpm/js/jquery-3.2.1.min.js"></script>
    <script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/alan-garcia-una-vida-de-portada-ecpm/js/sharer.min.js"></script>  
    <script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/el-metro-interminable-ecpm/js/TweenMax.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>

    <script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/el-metro-interminable-ecpm/js/ScrollMagic.min.js"></script>
    <script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/el-metro-interminable-ecpm/js/animation.gsap.js"></script>
    <script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/js/addIndicators.js?v4"></script>

    
    <!--<script src="https://cdn.jsdelivr.net/npm/supergif/dist/supergif.min.js"></script>-->

    <!--<script src="https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales/alan-garcia-una-vida-de-portada-ecpm/js/transition.min.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
    <script src="https://cdn.rawgit.com/kimmobrunfeldt/progressbar.js/0.5.6/dist/progressbar.js"></script>
    <script src="/especiales-multimedia/barbadillo/js/jquery.waypoints.min.js?v2"></script>

    <!--<script src="/especiales-multimedia/barbadillo/js/main.js?v127"></script>-->

    
   <script>

    /*$(document).ready(function () {

        var gif1 = new SuperGif({
            gif: document.getElementById('example1'),
            max_width: $(window).height(),
            progressbar_height: 0,
            loop_mode: false
        });

        gif1.load(function () {
            init();
        });

        function init() {
            var h = $("#main").height() - $(window).height();
            var p = 0.5 * h / gif1.get_length();

            function checkScroll(that) {

                var scroll_top = $(that).scrollTop();

                var i = Math.floor(scroll_top / p);
                gif1.move_to(i % gif1.get_length());
            }

            $(window).scroll(function () {
                checkScroll(this);
            });
            checkScroll(window);
        }
    });   */ 
    
    // Detener el loop después de 5 segundos
   /*setTimeout(function() {
        SuperGif.pause();
    }, 2000);
    
    var lazyLoadInstance = new LazyLoad({
        elements_selector: ".lazyload"
    });*/

   </script>

<script>
	// define images
	/*var images = [
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-1-min.jpg?v2",
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-2-min.jpg?v2",
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-3-min.jpg?v2",
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-4-min.jpg?v2",
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-5-min.jpg?v2",
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-6-min.jpg?v2",
		"https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-7-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-8-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-9-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-10-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-11-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-12-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-13-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-14-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-15-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-16-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-17-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-18-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-19-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-20-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-21-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-22-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-23-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-24-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-25-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-26-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-27-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-28-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-29-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-30-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-31-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-32-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-33-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-34-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-35-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-36-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-37-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-38-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-39-min.jpg?v2",
        "https://d1ts5g4ys243sh.cloudfront.net/proyectos_especiales_prod/especiales-multimedia/barbadillo/img/secuencia/Capa-40-min.jpg?v2"
        
	];*/

	// TweenMax can tween any property of any object. We use this object to cycle through the array
	/*var obj = {curImg: 0};

	// create tween
	var tween = TweenMax.to(obj, 0.5,
		{
			curImg: images.length - 1,	// animate propery curImg to number of images
			roundProps: "curImg",				// only integers so it can be used as an array index
			repeat: 0,									// repeat 3 times
			immediateRender: true,			// load first image automatically
			ease: Linear.easeNone,			// show every image the same ammount of time
			onUpdate: function () {
			  $("#myimg").attr("src", images[obj.curImg]); // set the image source
			}
		}
	);*/

	// init controller
	/*var controller = new ScrollMagic.Controller();

	// build scene
	var scene = new ScrollMagic.Scene({triggerElement: "#trigger", duration: 2000,  triggerHook: 0.2})
					.setTween(tween)
					.addIndicators() 
					.addTo(controller);	*/
</script>

<script>
    var lazyLoadInstance = new LazyLoad({
        elements_selector: ".lazy"
    });    

</script>

<script>
    // Obtiene el elemento <img> y guarda la ruta del GIF en una variable
    const gifElement = document.getElementById('gif');
    const gifUrl = gifElement.src;

    // Carga el GIF usando SuperGif
    const gif = new SuperGif({
    gif: document.getElementById('gif'),
    loop_mode: 'auto',
    auto_play: false,
    on_end: () => {
        currentFrame = 0;
    },
    on_load: () => {
        // Obtiene los frames del GIF y dibuja el primer frame
        frames = gif.get_frames();
        drawFrame();
        // Inicia la animación del GIF
        requestAnimationFrame(animate);
    },
    });
    gif.load(() => {
    // Una vez que el GIF ha sido cargado, se invoca la función on_load
    });


</script>


<script>
    const gifContainer = document.querySelector('#gif-container');
    const canvas = document.querySelector('#gif');
    const context = canvas.getContext('2d');
    const frames = [];
    let currentFrame = 0;
    let lastFrameTime = 0;

// Carga el GIF animado y extrae cada frame en un arreglo de imágenes
function loadGif(url, callback) {
  const img = new Image();
  img.onload = function() {
    const canvasTemp = document.createElement('canvas');
    canvasTemp.width = img.width;
    canvasTemp.height = img.height;
    const contextTemp = canvasTemp.getContext('2d');
    contextTemp.drawImage(img, 0, 0);
    const imageData = contextTemp.getImageData(0, 0, canvasTemp.width, canvasTemp.height);
    for (let i = 0; i < imageData.width * imageData.height; i++) {
      const index = i * 4;
      const r = imageData.data[index];
      const g = imageData.data[index + 1];
      const b = imageData.data[index + 2];
      const a = imageData.data[index + 3];
      frames.push({
        imageData: imageData.data.slice(index, index + 4),
        delay: calculateDelay(a)
      });
    }
    callback();
  };
  img.src = url;
}

// Calcula el retardo entre frames basado en el valor de transparencia del píxel
function calculateDelay(alpha) {
  if (alpha === 0) {
    // El valor 10ms se usa como un valor predeterminado para píxeles transparentes
    return 10;
  }
  // Calcula el retardo en milisegundos utilizando la fórmula del estándar GIF
  return Math.round(((alpha / 255) * 30) + 1);
}

// Dibuja el frame actual en el canvas
function drawFrame() {
  context.clearRect(0, 0, canvas.width, canvas.height);
  const frame = frames[currentFrame];
  const imageData = new ImageData(new Uint8ClampedArray(frame.imageData), canvas.width, canvas.height);
  context.putImageData(imageData, 0, 0);
}

// Actualiza el frame actual basado en el tiempo transcurrido desde el último frame
function updateFrame(time) {
  const frame = frames[currentFrame];
  if (time - lastFrameTime > frame.delay) {
    currentFrame = (currentFrame + 1) % frames.length;
    lastFrameTime = time;
    drawFrame();
  }
}

// Inicializa Waypoints
const waypoint = new Waypoint({
  element: gifContainer,
  handler: function(direction) {
    if (direction === 'down') {
      // Inicia la animación
      requestAnimationFrame(animate);
    } else {
      // Detiene la animación
      cancelAnimationFrame(animate);
    }
  },
  offset: '50%'
});

// Función de animación
function animate(time) {
  updateFrame(time);

  // Revisa la dirección del scroll
  const direction = window.pageYOffset > lastScrollY ? 'down' : 'up';
  lastScrollY = window.pageYOffset;

  // Si el usuario hace scroll hacia abajo, avanza a los siguientes frames
  if (direction === 'down' && currentFrame < frames.length - 1) {
    // Calcula el número de frames que se deben saltar basado en la velocidad del scroll
    const framesToSkip = Math.floor((window.pageYOffset - lastScrollY) / 10);
    currentFrame += framesToSkip;
    if (currentFrame > frames.length - 1) {
      currentFrame = frames.length - 1;
    }
    drawFrame();
  }

  // Si el usuario hace scroll hacia arriba, retrocede a los frames anteriores
  if (direction === 'up' && currentFrame > 0) {
    // Calcula el número de frames que se deben saltar basado en la velocidad del scroll
    const framesToSkip = Math.floor((lastScrollY - window.pageYOffset) / 10);
    currentFrame -= framesToSkip;
    if (currentFrame < 0) {
      currentFrame = 0;
    }
    drawFrame();
  }

  // Sigue animando mientras no se haya alcanzado el final o el principio del GIF
  if ((direction === 'down' && currentFrame < frames.length - 1) || (direction === 'up' && currentFrame > 0)) {
    requestAnimationFrame(animate);
  }
}


</script>

</body>
</html>
